<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>

<!-- Bits of this plugin and ideas were borrowed and remixed from the MUSHclient community. http://www.gammon.com.au/forum/?id=9385 and others. -->
<!-- Modifications for Aardwolf and extra awesome sauce added by Fiendish with help from Orogan -->
<!-- Adapated by Nick Gammon for Smaug and similar MUDs -->

<muclient>
    <plugin
    name="DBNU_Event_Capture_Miniwindow"
    author="Braska"
    id="0a5c1d952df0673bcde1097f"
    language="Lua"
    purpose="Move chats to a miniwindow"
    date_written="2010-04-04"
    date_modified="2020-04-27"
    requires="4.52"
    version="2.4"
    save_state="y"
    >
    
<description trim="y">
USAGE:

  chats echo on    : echo chats in main window
  chats echo off   : do not echo chats
  chats show       : show chats window
  chats hide       : hide chats window
  
  LH-click a line to copy it to the clipboard
  RH-click main window to see menu of options
  
  Click title bar to drag window.
</description>
  
</plugin>

<triggers>  

    <trigger
   enabled="y"
   match="\[NEWS-FLASH\] :: (.*?) ::$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>  

  <trigger
   enabled="y"
   match="\[(Info|HighScore)\] -> (.+)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>
    
    <trigger
   enabled="y"
   match="\[(Auto-Event)\] -> (.*?)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

    <trigger
   enabled="y"
   match="\[Clan-Info\] -> (.*?) has been inducted to (.*?)!$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

    <trigger
   enabled="y"
   match="\[DBNU Auction House\] -> The item \[(.*?)\] is being auctioned for \[(.*?)\] Zeni by the player (.*?)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>  
    
    <trigger
   enabled="y"
   match="\[DBNU Auction House\] -> \[(.*?)\] is going (.*?) \((.*?)\)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>  
  
    <trigger
   enabled="y"
   match="\[DBNU Auction House\] -> No bids received for \[(.*?)\]  - It has been removed from auction house\.$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>  
  
    <trigger
   enabled="y"
   match="\[DBNU Auction House\] -> (.*?) has placed bid of \[(.*?)\] Zeni on \[(.*?)\]$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>  

    <trigger
   enabled="y"
   match="\[RP-STORY (.*?)\] (.*?):"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>  

    <trigger
   enabled="y"
   match="\(Chat\) (.*?) '(.*?)'"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>  

    <trigger
   enabled="y"
   match="\[DBNU Auction House\] -> \[(.*?)\] is going (.*?) for \[(.*?)\]$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>  
  
    <trigger
   enabled="y"
   match="\[DBNU Auction House\] -> \[(.*?)\] SOLD to (.*?) for \[(.*?)\]\!$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>  
  
    <trigger
   enabled="y"
   match="The auctioneer pays you (.*?) zeni, charging an auction fee of (.*?).$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>  
  
    <trigger
   enabled="y"
   match="The auctioneer materializes before you, and hands you (.*?).$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>  
  
    <trigger
   enabled="y"
   match="The auctioneer appears before you to return (.*?) to you\.$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>  

</triggers>

<aliases>
    <alias
    script="chat_echo"
    match="^chats echo( on| off)?$"
    enabled="y"
    regexp="y"
    sequence="100"
    ignore_case="y"
    ></alias>

    <alias
    script="chat_show"
    match="chats show"
    enabled="y"
    sequence="100"
    ignore_case="y"
    ></alias>

    <alias
    script="chat_hide"
    match="chats hide"
    enabled="y"
    sequence="100"
    ignore_case="y"
    ></alias>

</aliases>

<script>

CHAT_WINDOW_NAME = "Events"
dofile (GetPluginInfo (GetPluginID (), 20) .. "My_Chat_Window.lua")

</script>
</muclient>