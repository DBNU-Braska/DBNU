<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>

<!-- Bits of this plugin and ideas were borrowed and remixed from the MUSHclient community. http://www.gammon.com.au/forum/?id=9385 and others. -->
<!-- Modifications for Aardwolf and extra awesome sauce added by Fiendish with help from Orogan -->
<!-- Adapated by Nick Gammon for Smaug and similar MUDs -->

<muclient>
    <plugin
    name="DBNU_Quest_Miniwindow"
    author="Braska"
    id="df24676d8179f4b9907f08e5"
    language="Lua"
    purpose="Move chats to a miniwindow"
    date_written="2010-04-04"
    date_modified="2020-04-27"
    requires="4.52"
    version="2.4"
    save_state="y"
    >
    
<description trim="y">
USAGE:

  chats echo on    : echo chats in main window
  chats echo off   : do not echo chats
  chats show       : show chats window
  chats hide       : hide chats window
  
  LH-click a line to copy it to the clipboard
  RH-click main window to see menu of options
  
  Click title bar to drag window.
</description>
  
</plugin>

<triggers>
    
  <trigger
   enabled="y"
   match="The Questmaster says(.*?)"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

  <trigger
   enabled="y"
   match="The quest receptionist says(.*?)"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>


  <trigger
   enabled="y"
   match="You may now quest again."
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

  <trigger
   enabled="y"
   match="You aren't on a quest."
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

  <trigger
   enabled="y"
   match="There are (.*?) minutes remaining until you can go on another quest."
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

  <trigger
   enabled="y"
   match="You have delivered the package now hurry up and get back to turn it in."
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

  <trigger
   enabled="y"
   match="There is less than a minute remaining until you can go on another quest."
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

  <trigger
   enabled="y"
   match="You have completed your quest, now head back to turn it in."
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

  <trigger
   enabled="y"
   match="You have finished your zeni quest, now hurry up and turn it in."
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

</triggers>

<aliases>
    <alias
    script="chat_echo"
    match="^chats echo( on| off)?$"
    enabled="y"
    regexp="y"
    sequence="100"
    ignore_case="y"
    ></alias>

    <alias
    script="chat_show"
    match="chats show"
    enabled="y"
    sequence="100"
    ignore_case="y"
    ></alias>

    <alias
    script="chat_hide"
    match="chats hide"
    enabled="y"
    sequence="100"
    ignore_case="y"
    ></alias>
        
</aliases>

<script>

CHAT_WINDOW_NAME = "Quests"
dofile (GetPluginInfo (GetPluginID (), 20) .. "My_Chat_Window.lua")

</script>
</muclient>