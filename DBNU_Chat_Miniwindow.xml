<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>

<!-- Bits of this plugin and ideas were borrowed and remixed from the MUSHclient community. http://www.gammon.com.au/forum/?id=9385 and others. -->
<!-- Modifications for Aardwolf and extra awesome sauce added by Fiendish with help from Orogan -->
<!-- Adapated by Nick Gammon for Smaug and similar MUDs -->

<muclient>
    <plugin
    name="DBNU_Chat_Capture_Miniwindow"
    author="Braska"
    id="565dae21eb816a2fdb8d50f9"
    language="Lua"
    purpose="Move chats to a miniwindow"
    date_written="2010-04-04"
    date_modified="2020-04-27"
    requires="4.52"
    version="2.4"
    save_state="y"
    >
    
<description trim="y">
USAGE:

  chats echo on    : echo chats in main window
  chats echo off   : do not echo chats
  chats show       : show chats window
  chats hide       : hide chats window
  
  LH-click a line to copy it to the clipboard
  RH-click main window to see menu of options
  
  Click title bar to drag window.
</description>
  
</plugin>

<triggers>
    
	<trigger
    enabled="y"
   name="OOC"
   match="^\<(OOC|IMM)\> (.+)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>	

  <trigger
    enabled="y"
   name="Wartalk"
   match="^\[WAR\] (.+)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

  <trigger
    enabled="y"
   name="IMM"
   match="^\[IMM\] (.+)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

  <trigger
    enabled="y"
   name="IMM_Logs"
   match="^(Log|Comm|Build|Monitor): (.+)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

  <trigger
    enabled="y"
   name="Music"
   match="^\[MUSIC\] (.+)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>
  
  <trigger
    enabled="y"
   name="Newbie"
   match="^\[(New-Player|Immortal)\] (.+)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

  <trigger
    enabled="y"
   name="Ask_Answer"
   match="^\[(Ask|Answer)\] (.+)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

  <trigger
    enabled="y"
   name="RP_Chat"
   match="^\(Chat\) (.+)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

  <trigger
    enabled="y"
   name="RP_Story"
   match="^\[RP-STORY (.+)\] (.+)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>   

  <trigger
    enabled="y"
   name="Race"
   match="^\<(Race)\> (.+)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

  <trigger
    enabled="y"
   name="Clan"
   match="^\<Clan\> (.+)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

  <trigger
    enabled="y"
   name="Clan_Info"
   match="^\[Clan-Info\] (.+)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>	

  <trigger
    enabled="y"
   name="Yell"
   match="^\{Area-Yell\} (.+)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

  <trigger
    enabled="y"
   name="FriendChat"
   match="\{(FriendChat)\} (.+) \'(.+)\'"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>
   
  <trigger
    enabled="y"
   name="Friend_Info"
   match="\[Friend-Info\] (.+)"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

  <trigger
    enabled="y"
   name="Scouter"
   match="^\[Scouter -(.+)\] (.+)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

    <trigger
    enabled="y"
   name="News_Flash"
   match="^\[NEWS-FLASH\] (.+)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>  

  <trigger
    enabled="y"
   name="Info"
   match="^\[Info\] (.+)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>
    
  <trigger
    enabled="y"
   name="HighScore"
   match="^\[HighScore\] (.+)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>
    
    <trigger
    enabled="y"
   name="Auto_Events"
   match="^\[Auto-Event\] (.+)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>

  <trigger
    enabled="y"
   name="Aution_House"
   match="^\[DBNU Auction House\] (.+)$"
   omit_from_output="y"
   regexp="y"
   script="chats"
   sequence="100"
  >
  </trigger>  

</triggers>

<aliases>
    <alias
    script="chat_echo"
    match="^chats echo( on| off)?$"
    enabled="y"
    regexp="y"
    sequence="100"
    ignore_case="y"
    ></alias>

    <alias
    script="chat_show"
    match="chats show"
    enabled="y"
    sequence="100"
    ignore_case="y"
    ></alias>

    <alias
    script="chat_hide"
    match="chats hide"
    enabled="y"
    sequence="100"
    ignore_case="y"
    ></alias>
        
</aliases>

<script>

CHAT_WINDOW_NAME = "Channels"
dofile (GetPluginInfo (GetPluginID (), 20) .. "My_Chat_Window.lua")

</script>
</muclient>
